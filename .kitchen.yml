---
driver:
  name: vagrant

provisioner:
  name: chef_solo

platforms:
  - name: web
    driver:
     box: centos-6.7
     box_url: http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_centos-6.7_chef-provisionerless.box
     network:
      - ["forwarded_port", { guest: 80, host: 8080 }]
      - ["private_network", { ip: "192.168.33.2" }]
    run_list:
      - recipe[yum::epel]
      - recipe[vim::default]
      - recipe[nginx::default]

  - name: app1
    driver:
     box: centos-6.7
     box_url: http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_centos-6.7_chef-provisionerless.box

     network:
      - ["forwarded_port", {guest: 8484, host: 8081}]
      - ["private_network", { ip: "192.168.33.3" }]
    run_list:
      - recipe[yum::epel]
      - recipe[vim::default]
      - recipe[git::default]
      - recipe[golang::default]
      - recipe[golang::app]

  - name: app2
    driver:
     box: centos-6.7
     box_url: http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_centos-6.7_chef-provisionerless.box

     network:
      - ["forwarded_port", {guest: 8484, host: 8082}]
      - ["private_network", { ip: "192.168.33.4" }]
    run_list:
      - recipe[yum::epel]
      - recipe[vim::default]
      - recipe[git::default]
      - recipe[golang::default]
      - recipe[golang::app]

suites:
  - name: sainsburys
    run_list:
    attributes:
